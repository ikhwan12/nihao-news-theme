jQuery(document).ready(function(e){function t(e){var t=parseFloat(e),a=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0}function a(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function r(t){e(".rwp-t-scores-"+t).first().show(),e(".rwp-t-custom-tabs-"+t).first().show()}function n(t){e("#rwp-reviews-meta-box .rwp-tabs-wrap").children("li").each(function(t){e(this).removeClass("rwp-tabs")}),e("#rwp-review-tab-"+t).addClass("rwp-tabs"),e("#rwp-reviews-wrap").children(".rwp-review-form").each(function(t){e(this).hide()}),e("#rwp-review-"+t).show()}function i(a){var r=void 0!==rwpPreferences.preferences_step?parseFloat(rwpPreferences.preferences_step):.5,n=t(r);e(null==a?".rwp-slider":"#rwp-review-"+a+" .rwp-slider").each(function(t){e(this).noUiSlider({step:r,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:n})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:n}))})}function s(t){e(".rwp-t-reviews-"+t).first().show()}function p(t){e("#rwp-tables-meta-box .rwp-tabs-wrap").children("li").each(function(t){e(this).removeClass("rwp-tabs")}),e("#rwp-table-tab-"+t).addClass("rwp-tabs"),e("#rwp-tables-wrap").children(".rwp-table-form").each(function(t){e(this).hide()}),e("#rwp-table-"+t).show()}function o(a){var r=void 0!==rwpPreferences.preferences_step?parseFloat(rwpPreferences.preferences_step):.5,n=t(r),i=e(a).find(".rwp-slider");e(i).each(function(t){e(this).noUiSlider({step:r,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:n})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:n}))})}var l=document.getElementById("rwp-codemirror");if(null!==l){CodeMirror.fromTextArea(l,{lineNumbers:!0,lineWrapping:!0,theme:"neo",value:l.value,indentUnit:4,indentWithTabs:!0})}if(e("#rwp-add-criteria-btn").click(function(t){t.preventDefault();var a=e("#rwp-criterias"),r=a.data("placeholder"),n=a.data("remove-label"),i=a.data("id-label"),s=a.find("li").length,p='<li><span class="dashicons dashicons-menu"></span><input type="text" name="rwp_templates[template_criterias]['+s+']" value="" placeholder="'+r+'" /> <a class="rwp-remove-criteria-btn" href="#">'+n+"</a> <em>"+i+": c"+s+"</em></li>";e("#rwp-criterias").append(p)}),e(".wrap").on("click",".rwp-remove-criteria-btn",function(t){t.preventDefault(),e(this).parent().remove()}),e("#rwp-add-custom-tab-btn").click(function(t){t.preventDefault();var a=e("#rwp-custom-tabs"),r=a.find("li").last(),n=a.data("ajax"),i=0;0!=r.length&&(i=parseInt(r.data("i"))+1);var s="";s+='<li data-i="'+i+'">',e.each(n.formFields,function(e,t){var a=a="tab_color"==t?'class="rwp-color-picker"':"";s+="<span>",s+="<label>"+n.options[t].label+"</label>",s+='<input type="text" name="'+n.optionName+"["+n.fieldId+"]["+i+"]["+t+']" value="" placeholder="'+n.options[t].default+'" '+a+" />",s+="</span>"}),s+='<span><a class="rwp-remove-tab-btn" href="#">'+n.removeLabel+"</a></span>",s+="</li>",a.append(s),e(".rwp-color-picker").wpColorPicker()}),e(".wrap").on("click",".rwp-remove-tab-btn",function(t){t.preventDefault(),e(this).parent().parent().remove()}),e(".rwp-color-picker").wpColorPicker(),e("#rwp-criterias").sortable(),e(".wrap").on("change",".rwp-exclude-terms input",function(t){t.preventDefault();var a=e(this).closest("ul"),r=a.find("input").length,n=a.find("input:checked").length,i=a.parent().find(".rwp-terms-msg"),s=a.data("msg");i.html(""),r==n&&(e(this).attr("checked",!1),i.html(s))}),null!=e("#rwp-pref-form")&&(function(){e(".rwp-slider-limits").each(function(t){var a=e(this).data("min"),r=e(this).data("max");r="inf"==r?1e4:r,e(this).noUiSlider({connect:!0,step:1,start:[a,r],range:{min:[0],"90%":5e3,max:1e4},format:wNumb({decimals:0})}),e(this).Link("lower").to(e(this).parent().find("input.rwp-min"),null,wNumb({decimals:0})),e(this).Link("upper").to(e(this).parent().find("input.rwp-max"),null,wNumb({decimals:0})),e(this).on({slide:function(){e(this).val()[0],e(this).val()[1]>5e3&&e(this).parent().find("input.rwp-max").val("no-limit")}}),r>5e3&&e(this).parent().find("input.rwp-max").val("no-limit")})}(),function(){e(".rwp-slider-std").each(function(t){e(this).noUiSlider({step:1,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:0})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:0}))})}()),e("#rwp-notification-btn").click(function(t){t.preventDefault();var r=e.trim(e(this).parent().find("input[type=text]").val());if(0==r.length||!a(r))return alert("Insert a valid email address"),!1;var n=e(this).parent().find(".rwp-loader"),i={action:demoNotificationDataObj.action,security:demoNotificationDataObj.ajax_nonce,email:r};n.fadeIn("fast"),e.post(demoNotificationDataObj.ajax_url,i,function(e){n.fadeOut("fast"),alert(e.data.msg)},"json").fail(function(){n.fadeOut("fast"),alert("Error sending email. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-clear-rosu-cache-btn").click(function(t){t.preventDefault();var a={action:rosuDataObj.action,security:rosuDataObj.ajax_nonce},r=e(this).parent().find(".rwp-loader"),n=e(this).parent().parent().parent().find(".rwp-clear-rosu-cache-notice-yes"),i=e(this).parent().parent().parent().find(".rwp-clear-rosu-cache-notice-no");n.hide(),i.hide(),r.fadeIn("fast"),e.post(rosuDataObj.ajax_url,a,function(e){r.fadeOut("fast"),console.log(e),e.data?n.fadeIn("fast"):i.fadeIn("fast")},"json").fail(function(){r.fadeOut("fast"),alert("Error clearing the cache. Retry or contact the plugin support team. Thank You.")})}),null!=e("#rwp-reviews-meta-box")&&i(null),e("#rwp-reviews-meta-box").on("change",".rwp-template-selection",function(){var t=e(this).data("review-id"),a=e(this).val();e(".rwp-t-scores-"+t).hide(),e("#rwp-template-scores-"+t+"-"+a).show(),e(".rwp-t-custom-tabs-"+t).hide(),e("#rwp-custom-tabs-"+t+"-"+a).show()}),e("#rwp-reviews-meta-box").on("click",".rwp-tabs-wrap li a",function(t){t.preventDefault(),n(e(this).data("review-id"))}),e("#rwp-reviews-meta-box").on("click",".rwp-delete-review-btn",function(t){t.preventDefault();var a=e(this).data("review-id");e("#rwp-review-"+a).remove(),e("#rwp-review-tab-"+a).remove(),n(e(".rwp-review-form").last().data("review-id"))}),e("#rwp-reviews-meta-box").on("click",".rwp-review-remove-image-btn",function(t){t.preventDefault();var a=e(this).data("review-id"),r=e(this).data("default");e("#rwp-review-image-img-"+a).attr("src",r),e("#rwp-review-add-image-input-"+a).val("")}),e("#rwp-add-review-form-btn").click(function(t){t.preventDefault();var a=0,s=e("#rwp-reviews-meta-box .rwp-tabs-wrap").data("placehoder"),p=e(".rwp-review-form").last().data("review-id"),o=e(this).parent().find(".rwp-loader"),l=e(this).parent().find("select[name=rwp-review-type]").val();null!=p&&(a=parseInt(p)+1);var d={action:reviewsMetaBoxObj.action,security:reviewsMetaBoxObj.ajax_nonce,rwp_review_id:a,rwp_review_type:l};o.fadeIn("fast"),e.post(reviewsMetaBoxObj.ajax_url,d,function(t){e("#rwp-reviews-wrap").append(t),e("#rwp-reviews-meta-box .rwp-tabs-wrap").append('<li class="rwp-tabs" id="rwp-review-tab-'+a+'"><a href="#" data-review-id="'+a+'">'+s+" "+a+"</a></li>"),r(a),n(a),o.fadeOut("fast"),i(a)}).fail(function(){o.fadeOut("fast"),alert("Error getting review form. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-reviews-meta-box").on("click",".rwp-add-custom-link-btn",function(t){t.preventDefault();var a=e(this).data("review-id"),r=0,n=e(this).parent().find("li").last().data("id");null!=n&&(r=parseInt(n)+1);var i=e(this).parent().find(".rwp-custom-links"),s='<li data-id="'+r+'">';s+='<input type="text" name="rwp_reviews['+a+"][review_custom_links]["+r+'][label]"\tvalue="" placeholder="'+i.data("label-placeholder")+'">',s+='<input type="text" name="rwp_reviews['+a+"][review_custom_links]["+r+'][url]" \tvalue="" placeholder="'+i.data("url-placeholder")+'">',s+='<a href="#" class="rwp-delete-custom-link-btn">'+i.data("remove-placeholder")+"</a>",s+="</li>",i.append(s)}),e("#rwp-reviews-meta-box").on("click",".rwp-delete-custom-link-btn",function(t){t.preventDefault(),e(this).parent().remove()}),e("#rwp-reviews-meta-box").on("keyup",".rwp-review-title-input",function(t){t.preventDefault();var a=e(this).data("review-id"),r=e(this).data("default"),n=e(this).val(),i=""==n?r:n;e("#rwp-review-tab-"+a+" a").html(i)}),e("#rwp-tables-meta-box").on("change",".rwp-template-selection",function(){var t=e(this).data("table-id"),a=e(this).val();e(".rwp-t-reviews-"+t).hide(),e("#rwp-template-reviews-"+t+"-"+a).show()}),e("#rwp-tables-meta-box").on("click",".rwp-tabs-wrap li a",function(t){t.preventDefault(),p(e(this).data("table-id"))}),e("#rwp-tables-meta-box").on("click",".rwp-delete-table-btn",function(t){t.preventDefault();var a=e(this).data("table-id");e("#rwp-table-"+a).remove(),e("#rwp-table-tab-"+a).remove(),p(e(".rwp-table-form").last().data("table-id"))}),e("#rwp-add-table-form-btn").click(function(t){t.preventDefault();var a=0,r=e("#rwp-tables-meta-box .rwp-tabs-wrap").data("placehoder"),n=e(".rwp-table-form").last().data("table-id"),i=e(this).parent().find(".rwp-loader");null!=n&&(a=parseInt(n)+1);var o={action:tablesMetaBoxObj.action,security:tablesMetaBoxObj.ajax_nonce,rwp_table_id:a};i.fadeIn("fast"),e.post(tablesMetaBoxObj.ajax_url,o,function(t){e("#rwp-tables-wrap").append(t),e("#rwp-tables-meta-box .rwp-tabs-wrap").append('<li class="rwp-tabs" id="rwp-table-tab-'+a+'"><a href="#" data-table-id="'+a+'">'+r+"</a></li>"),s(a),p(a),i.fadeOut("fast")}).fail(function(){i.fadeOut("fast"),alert("Error getting table form. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-tables-meta-box").on("keyup",".rwp-table-title-input",function(t){t.preventDefault();var a=e(this).data("table-id"),r=e(this).data("default"),n=e(this).val(),i=""==n?r:n;e("#rwp-table-tab-"+a+" a").html(i)}),e(".rwp-theme-name").tooltip({track:!0,tooltipClass:"rwp-tooltip",content:function(){return'<img src="'+e(this).data("preview")+'" height="400px" />'}}),e("#rwp-rating-image-btn-default").click(function(t){t.preventDefault();var a=e(this).data("default");e("#rwp-rating-image-url").val(a),e("#rwp-rating-image").attr("src",a)}),e(".themes").on("click",".rwp-delete-template-btn",function(t){t.preventDefault();var a=e(this).data("template-id"),r=e(this).data("confirm-msg");if(1!=confirm(r))return!1;var n=e(".wrap").find(".rwp-loader"),i={action:deleteTemplateObj.action,security:deleteTemplateObj.ajax_nonce,templateId:a};n.fadeIn("fast"),e.post(deleteTemplateObj.ajax_url,i,function(t){e("#rwp-theme-wrap-"+a).fadeOut("fast",function(){e(this).remove()}),n.fadeOut("fast")},"json").fail(function(){n.fadeOut("fast"),alert("Error deleting template. Retry or contact the plugin support team. Thank You.")})}),e(".themes").on("click",".rwp-duplicate-template-btn",function(t){t.preventDefault();var a=e(this).data("template-id"),r=e(".wrap").find(".rwp-loader"),n={action:duplicateTemplateObj.action,security:duplicateTemplateObj.ajax_nonce,templateId:a};r.fadeIn("fast"),e.post(duplicateTemplateObj.ajax_url,n,function(t){if(void 0!==t.html){var a=e(".theme.add-new-theme"),n=e(".themes");a.remove(),n.append(t.html).append(a)}r.fadeOut("fast")},"json").fail(function(){r.fadeOut("fast"),alert("Error duplicating template. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-restore-data-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg");if(1!=confirm(a))return!1;var r=e(this).parent().find(".rwp-loader"),n={action:restoreDataObj.action,security:restoreDataObj.ajax_nonce};r.fadeIn("fast"),e.post(restoreDataObj.ajax_url,n,function(t){e("#rwp-restore-data-notification p strong").html(t.msg),e("#rwp-restore-data-notification").slideDown("fats"),r.fadeOut("fast")},"json").fail(function(){r.fadeOut("fast"),alert("Error restoring data. Retry or contact the plugin support team. Thank You.")})}),e(".rwp-reset-score-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg"),r=e(this).data("res-msg"),n=e(this).data("review-id"),i=e(this).data("post-id"),s=confirm(a),p=e(this);if(1!=s)return!1;var o=e(this).parent().find(".rwp-loader"),l={action:resetScoreObj.action,security:resetScoreObj.ajax_nonce,reviewId:n,postId:i};o.fadeIn("fast"),e.post(resetScoreObj.ajax_url,l,function(e){p.parent().parent().find(".rwp_reviews_table_review_users_score").html(r),o.fadeOut("fast")}).fail(function(){o.fadeOut("fast"),alert("Error resetting score. Retry or contact the plugin support team. Thank You.")})}),e(".rwp-delete-single-review-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg"),r=e(this).data("res-msg"),n=e(this).data("review-id"),i=e(this).data("post-id"),s=confirm(a),p=e(this);if(1!=s)return!1;var o=e(this).parent().find(".rwp-loader"),l={action:deleteReviewObj.action,security:deleteReviewObj.ajax_nonce,reviewId:n,postId:i};o.fadeIn("fast"),e.post(deleteReviewObj.ajax_url,l,function(e){switch(o.fadeOut("fast"),e.code){case 400:o.fadeOut("fast"),alert(e.data.msg);break;case 200:p.parent().parent().remove(),alert(r);break;default:alert("Error in deleting process!")}},"json").fail(function(e){o.fadeOut("fast"),alert("Error deleting review. Retry or contact the plugin support team. Thank You.")})}),"undefined"!=typeof rwpRlForm){var d=jQuery(rwpRlForm);d.find("table");d.appendTo("body").hide(),d.find("#rwp-rl-gen-btn").click(function(t){t.preventDefault();var a=e("#rwp-rl-form").serializeArray(),r="[rwp_boxes",n=[];jQuery.each(a,function(t,a){switch(a.name){case"rwp_rl[title]":var i=e.trim(a.value);""!=i&&(r+=' title="'+i+'"');break;case"rwp_rl[template]":""!=a.value&&n.push(a.value);break;case"rwp_rl[sorting]":"top_score_users_score"!=a.value&&(r+=' sorting="'+a.value+'"');break;case"rwp_rl[count]":var s=e.trim(a.value);""!=s&&5!=s&&(r+=' count="'+s+'"');break;case"rwp_rl[layout]":"auto"!=a.value&&(r+=' layout="'+a.value+'"')}}),n.length>0&&(r+=' template="'+n.join(":")+'"'),e("#rwp-rl-form").find('input[name="rwp_rl[stars]"]').is(":checked")&&(r+=' stars="yes"'),r+="]",tinyMCE.activeEditor.insertContent(r),tb_remove()})}e("#rwp-io_action").change(function(){var t=e(this).val(),a=e(this).data("fname"),r=e("#rwp_io_submit"),n=r.data("export"),i=r.data("import"),s='<tr id="rwp-io-file-input">';s+='<th scope="row">File</th>',s+="<td>",s+='<input type="file" name="'+a+'" value="" />',s+="</td>",s+="</tr>","rwp_export"==t?(r.val(n),e("#rwp-io-file-input").remove()):(r.val(i),e(this).parent().parent().parent().append(s))}),e(".api h4").click(function(t){t.preventDefault(),e(this).parent().find(".api-content").toggle()}),e(".reviewer_page_reviewer-users-ratings-page").on("click",".rwp-rmi-cancel",function(t){var a=e(this).data("rating-id");e("#rwp-tr-r-"+a).fadeOut("fast",function(){e(this).remove()}),e("#rwp-tr-r-a-"+a).fadeIn("fast")}),e("#rwp-ratings-mega-wrap").on("click",".rwp-rmi-delete-image",function(t){t.preventDefault();var a=e(this).data("attachment"),r=e(this).parent().parent().parent().find('input[name="rwp-rmi[rating_images_to_delete]"]'),n=r.val().split(","),i=[];n.forEach(function(e,t,a){var r=parseInt(e);isNaN(r)||i.push(r)}),i.push(parseInt(a)),r.val(i.join(", ")),e(this).parent().remove()}),e("#rwp-ratings-mega-wrap").on("click",".rwp-ratings-action",function(t){t.preventDefault();var a=e(this).data("action"),r=e(this).data("meta-id"),n=e(this).data("rating-id"),i=e(this).data("counterpart"),s={},p=e(this).parent().parent().parent().parent().find(".rwp-loader");if("delete"==a){var l=e(this).data("confirm-msg");if(1!=confirm(l))return!1}if("edit-done"==a){var d=e(this).parent(),c=d.find('input[name="rwp-rmi[rating_user_name]"]').val();c=void 0===c?"":c;var f=d.find('input[name="rwp-rmi[rating_user_email]"]').val();f=void 0===f?"":f,s.rating_user_name=c,s.rating_user_email=f,s.rating_title=d.find('input[name="rwp-rmi[rating_title]"]').val(),s.rating_comment=d.find('textarea[name="rwp-rmi[rating_comment]"]').val(),s.rating_date=d.find('input[name="rwp-rmi[rating_date]"]').val(),s.rating_score=[],s.rating_images_new=d.find('input[name="rwp-rmi[rating_images_new]"]').val(),s.rating_date_to_delete=d.find('input[name="rwp-rmi[rating_images_to_delete]"]').val(),d.find(".rwp-scores-sliders input[type=text]").each(function(t){s.rating_score[e(this).data("index")]=e(this).val()}),p=e(this).parent().find(".rwp-loader")}var u=e(this).parent().parent().parent().parent().find(".rwp-marker"),w=e(this).parent().parent().parent().parent().find(".rwp-badge"),m={action:ratingsManagerActionsObj.action,security:ratingsManagerActionsObj.ajax_nonce,metaId:r,ratingId:n,ac:a,pending:e(this).data("pending"),newRating:s},v=e(this);p.fadeIn("fast"),e.post(ratingsManagerActionsObj.ajax_url,m,function(t){switch(t.code){case 400:p.fadeOut("fast"),alert(t.data.msg);break;case 200:if(p.fadeOut("fast"),"approve"==a)return u.addClass("rwp-hidden"),v.data("action","unapprove"),v.data("counterpart",v.html()),v.html(i),v.parent().removeClass("rwp_approve").addClass("rwp_unapprove"),v.parent().parent().find(".delete a").data("pending","no"),v.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').attr("data-pending","no"),void v.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').data("pending","no");if("unapprove"==a)return u.removeClass("rwp-hidden"),v.data("action","approve"),v.data("counterpart",v.html()),v.html(i),v.parent().removeClass("rwp_unapprove").addClass("rwp_approve"),v.parent().parent().find(".delete a").data("pending","yes"),v.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').attr("data-pending","yes"),void v.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').data("pending","yes");if("verify"==a)return w.removeClass("rwp-hidden"),v.data("action","unverify"),v.data("counterpart",v.html()),v.html(i),void v.parent().removeClass("rwp_verify").addClass("rwp_unverify");if("unverify"==a)return w.addClass("rwp-hidden"),v.data("action","verify"),v.data("counterpart",v.html()),v.html(i),void v.parent().removeClass("rwp_unverify").addClass("rwp_verify");if("delete"==a)return void v.parent().parent().parent().parent().remove();if("edit"==a){var r=v.parent().parent().parent().parent(),s=t.data.rating,l=t.data.form;r.attr("id","rwp-tr-r-a-"+n),r.hide(),e(l).insertBefore(r).fadeIn("fast"),o("#rwp-tr-r-"+n)}if("edit-done"==a){var r=e("#rwp-tr-r-a-"+n),s=t.data.rating;s.rating_user_id<1&&(r.find(".rwp-rt-user-name").html(s.rating_user_name),r.find(".rwp_rt_author a").html(s.rating_user_email)),r.find(".rwp_rt_comment .rwp-the-comment").html(s.rating_title),r.find(".rwp_rt_comment p").html(s.rating_comment),r.find(".rwp_rt_comment em").html("Submitted on "+s.rating_date),r.find(".rwp_rt_score").find("p").remove(),r.find(".rwp_rt_score").append('<p class="description" style="color: red">Refresh the page to update scores and images</p>'),e("#rwp-tr-r-"+n).fadeOut("fast",function(){e(this).remove()}),r.fadeIn("fast")}}},"json").fail(function(e){p.fadeOut("fast"),alert("Error during action!")})}),e("#rwp-ratings-mega-wrap #doaction, #rwp-ratings-mega-wrap #doaction2").click(function(t){t.preventDefault();var a=e(this).parent().parent().parent(),r=[],n=a.find('input[name="rwp_bulk_action[]"]:checked'),i=e(this).parent().find("select").val();if(0!=n.length&&-1!=i){if(n.each(function(t){var a={};a.metaId=e(this).data("meta-id"),a.ratingId=e(this).data("rating-id"),a.pending=e(this).data("pending"),r.push(a)}),"delete"==i){if(1!=confirm("Confirm the action?"))return!1}var s={action:ratingsManagerActionsBulkObj.action,security:ratingsManagerActionsBulkObj.ajax_nonce,rows:r,ac:i},p=e("#rwp-ratings-mega-wrap .rwp-loader").first().attr("src");e("#rwp-ratings-mega-wrap .bulkactions img").remove(),e("#rwp-ratings-mega-wrap .bulkactions").append('<img style="margin-top:6px; display:none;" src="'+p+'" alt="" />');var o=e("#rwp-ratings-mega-wrap .bulkactions img");o.fadeIn("fast"),e.post(ratingsManagerActionsBulkObj.ajax_url,s,function(e){switch(e.code){case 400:o.fadeOut("fast"),alert(e.data.msg);break;case 200:o.fadeOut("fast"),location.reload()}},"json").fail(function(e){o.fadeOut("fast"),alert("Error during bulk action!")})}})}),function(e){"use strict";var t=function(t,a){t.on("click","#rwp-activate-license",function(r){r.preventDefault();var n=e(this).parent().find(".rwp-loader"),i=t.find("#rwp-license-notice"),s=a.find("#rwp-license-first-name").val(),p=a.find("#rwp-license-last-name").val(),o=a.find("#rwp-license-email").val(),l=a.find("#rwp-license-envato-username").val(),d=a.find("#rwp-license-purchase-code").val(),c={first_name:s||"",last_name:p||"",email:o||"",envato_username:l||"",purchase_code:d||"",action:rwpLicense.action,security:rwpLicense.ajax_nonce};n.fadeIn("fast"),i.slideUp("fast",function(){e(this).html("")}),e.post(rwpLicense.ajax_url,c,function(e){n.fadeOut("fast");var t="";e.success?(i.html("<p>"+e.data.message+"</p>").removeClass("updated error").addClass("updated").slideDown("fast"),setTimeout(function(){window.location.replace(rwpLicense.redirect_to)},2e3)):("object"==typeof e.data?(t+="<ul>",e.data.forEach(function(e,a,r){t+="<li>"+e+"</li>"}),t+="</ul>"):t+="<p><strong>"+e.data+"</strong></p>",i.html(t).removeClass("updated error").addClass("error").slideDown("fast"))},"json").fail(function(e){n.fadeOut("fast"),alert("Unable to register the license. Please contact the Support Team")})}),t.on("click","#rwp-remove-license",function(r){r.preventDefault();var n=e(this).parent().find(".rwp-loader"),i=t.find("#rwp-license-notice"),s=(a.find("#rwp-license-first-name").val(),a.find("#rwp-license-last-name").val(),a.find("#rwp-license-email").val(),a.find("#rwp-license-envato-username").val(),a.find("#rwp-license-purchase-code").val(),{action:rwpLicense.action_remove,security:rwpLicense.ajax_nonce_remove});n.fadeIn("fast"),i.slideUp("fast",function(){e(this).html("")}),e.post(rwpLicense.ajax_url,s,function(e){n.fadeOut("fast");var t="";e.success?(i.html("<p>"+e.data.message+"</p>").removeClass("updated error").addClass("updated").slideDown("fast"),setTimeout(function(){location.reload()},2e3)):("object"==typeof e.data?(t+="<ul>",e.data.forEach(function(e,a,r){t+="<li>"+e+"</li>"}),t+="</ul>"):t+="<p><strong>"+e.data+"</strong></p>",i.html(t).removeClass("updated error").addClass("error").slideDown("fast"))},"json").fail(function(e){n.fadeOut("fast"),alert("Unable to remove the license. Please contact the Support Team")})})};e(function(){var a=e(".wrap"),r=e("#rwp-license-form");t(a,r)})}(jQuery);